/* ========== Reset & Tokens ========== */
:root{
  --bg:#faf6f1;
  --card:#ffffff;
  --ink:#27313a;
  --muted:#6c7a86;
  --accent:#1f7a8c;       /* Air(風) 藍綠 */
  --accent-fire:#c0392b;  /* Fire(火) 赭紅 */
  --accent-water:#2e856e; /* Water(水) 翡翠綠 */
  --accent-earth:#b8860b; /* Earth(土) 琥珀 */
  --ring: rgba(31,122,140,.25);
  --radius:16px;
  --shadow: 0 10px 28px rgba(0,0,0,.08), 0 2px 6px rgba(0,0,0,.06);
  --pill: 999px;
  --font: ui-sans-serif, -apple-system, "SF Pro Text", "PingFang TC",
          "Noto Sans TC", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f1418; --card:#121a20; --ink:#eaf2f8; --muted:#9fb2c2;
    --shadow: 0 10px 28px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.4);
    --ring: rgba(97,178,191,.3);
  }
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);font-family:var(--font);
  -webkit-font-smoothing:antialiased;line-height:1.6;
}

/* ========== Shell ========== */
.app{
  max-width:960px;margin:auto;padding:20px 16px 80px;
}
.header{
  display:flex;flex-direction:column;gap:4px;margin:8px 0 14px;
}
.h1{
  font-size: clamp(22px, 3.6vw, 36px);
  letter-spacing:.5px;font-weight:800;
  text-shadow: 0 1px 0 rgba(255,255,255,.3);
}
.sub{
  color:var(--muted);font-size:14px
}

/* ========== Progress ========== */
.progress{
  position:sticky;top:0;z-index:50;background:linear-gradient(#fff0, #fff0);
  padding:8px 0 10px;margin:8px 0 16px;
}
.bar{
  width:100%;height:10px;border-radius:var(--pill);
  background:rgba(0,0,0,.06);overflow:hidden;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.06);
}
.bar > i{
  display:block;height:100%;width:0%;
  background:linear-gradient(90deg,var(--accent),#7ec8d0);
  border-radius:inherit;transition:width .35s ease;
}
.count{margin-top:6px;color:var(--muted);font-size:12px}

/* ========== Card & Question ========== */
.card{
  background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
  padding:18px 16px;margin:0 0 18px;border:1px solid rgba(0,0,0,.06);
}
.q-title{
  font-size: clamp(18px, 2.8vw, 22px);
  font-weight:700;margin:6px 0 14px;
}

/* 可選插圖區（若圖片失敗就不佔位） */
.q-illustration img{max-width:100%;border-radius:12px;display:block;margin:8px auto}
.q-illustration img[onerror]{display:none}

/* ========== Options ========== */
.options{
  display:grid;grid-template-columns:1fr;gap:10px;
}
@media (min-width:620px){ .options{grid-template-columns:1fr 1fr} }

.opt{
  display:flex;align-items:center;gap:10px;
  background:linear-gradient(180deg,#fff, #f7fafb);
  border:1px solid rgba(0,0,0,.08);border-radius:var(--pill);
  padding:10px 14px;cursor:pointer;user-select:none;
  transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease;
}
.opt:hover{ box-shadow:0 6px 16px var(--ring) }
.opt:active{ transform: translateY(1px) }
.opt input{ appearance:none; width:18px;height:18px;border-radius:50%;
  border:2px solid var(--accent); box-shadow: inset 0 0 0 6px #fff; }
.opt input:checked{ box-shadow: inset 0 0 0 4px #fff; background:var(--accent) }
.opt span{font-weight:600}

/* ========== Nav Buttons ========== */
.nav{
  display:flex;gap:10px;justify-content:space-between;margin-top:14px
}
.btn{
  border:none;border-radius:var(--pill);padding:10px 16px;font-weight:700;
  cursor:pointer;box-shadow:var(--shadow);background:var(--accent);color:#fff;
}
.btn.secondary{ background:#eaeff3; color:#223; box-shadow:none }
.btn:disabled{ opacity:.5; cursor:not-allowed }

/* ========== Footer ========== */
.footer{ text-align:center;color:var(--muted);font-size:12px;margin-top:24px }

/* ========== Result Page ========== */
.result-hero{
  display:flex;flex-direction:column;gap:16px;
}
.result-grid{
  display:grid;gap:16px;margin-top:12px;
  grid-template-columns: 1fr;
}
@media(min-width:720px){ .result-grid{ grid-template-columns: 1fr 1fr } }
.result-card{
  background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
  padding:14px;border:1px solid rgba(0,0,0,.06)
}
.result-card h3{ margin:8px 0 6px }
.result-card img{ width:100%;border-radius:12px; display:block }

.badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:var(--pill);
  background:rgba(31,122,140,.12);color:var(--accent);font-weight:700
}

/* 若要切換四象限主色，可以在 body 上加 data-element="air|fire|water|earth" */
body[data-element="fire"]  { --accent: var(--accent-fire) }
body[data-element="water"] { --accent: var(--accent-water) }
body[data-element="earth"] { --accent: var(--accent-earth) }

/* ========== Small helpers ========== */
.hr{ height:1px;background:rgba(0,0,0,.08);margin:18px 0 }
.hidden{ display:none !important }
